<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · HSSModel</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">HSSModel</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">HSSModel.jl Documentation</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#SteadyStateSolvers-module"><span>SteadyStateSolvers module</span></a></li><li><a class="tocitem" href="#DerivedQuantities-module"><span>DerivedQuantities module</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com//blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="SteadyStateSolvers-module"><a class="docs-heading-anchor" href="#SteadyStateSolvers-module">SteadyStateSolvers module</a><a id="SteadyStateSolvers-module-1"></a><a class="docs-heading-anchor-permalink" href="#SteadyStateSolvers-module" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HSSModel.SteadyStateSolvers.hox_ss_solver" href="#HSSModel.SteadyStateSolvers.hox_ss_solver"><code>HSSModel.SteadyStateSolvers.hox_ss_solver</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">hox_ss_solver(no::Real, no2::Real, phox::Real, vocr::Real, alpha::Real; no2_no::Real=4, options::SteadyStateOptions=SteadyStateOptions())::SteadyStateResult</code></pre><p>Solve the NOx-HOx steady state system for a given set of NOx, P(HOx), VOC reactivity, and RO2 branching ratio. The positional inputs are:</p><ul><li><code>no</code> - NO concentration in molec. cm<span>$^{-3}$</span></li><li><code>no2</code> - NO2 concentration in molec. cm<span>$^{-3}$</span></li><li><code>phox</code> - HOx production rate in molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span></li><li><code>alpha</code> - NO + RO2 branching ratio</li></ul><p><code>options</code> must be a <code>SteadyStateOptions</code> instance, it can be used to change more detailed options in the model. </p><p>This returns a <code>SteadyStateResult</code> instance which contains the final state of the model.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.SteadyStateSolvers.SteadyStateOptions" href="#HSSModel.SteadyStateSolvers.SteadyStateOptions"><code>HSSModel.SteadyStateSolvers.SteadyStateOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SteadyStateOptions(;T::Real=298, M::Real=2e19, rh::Real=0.01, 
                    k_RO2NO::Real=8e-12, k_RO2HO2::Real=8e-12, k_RO2RO2::Real=6.8e-14,
                    k4::Real=1.1e-11, k2eff::Real=8e-12, k5eff::Real=5e-12)</code></pre><p>Construct a <code>SteadyStateOptions</code> instance, that is a structure that controls the options for the HOx steady state solver. All parameters are keyword arguments. Available parameters and their default values are:</p><ul><li><code>T</code> (default: 298) - air temperature in Kelvin</li><li><code>M</code> (default: <span>$2 × 10^{19}$</span>) - number density of air in molec. cm<span>$^{-3}$</span>.</li><li><code>rh</code> (default: 0.01) - mole fraction of H2O in the air, i.e. <code>rh * M</code>  is the number density of H2O used in the model.</li><li><code>k_RO2NO</code> (default: <span>$8 × 10^{-12}$</span>) - fixed rate constant for the NO + RO2 → NO2 + RO  reaction. Since this needs to be an effective rate for the mixing of RO2 radicals, it is just used as a fixed value and doesn&#39;t change with T and M. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li><li><code>k_RO2HO2</code> (default: <span>$8 × 10^{-12}$</span>) - fixed rate constant for the RO2 + HO2 loss pathway. Like <code>k_RO2NO</code>, this doesn&#39;t vary with T and M. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li><li><code>k_RO2RO2</code> (default: <span>$6.8 × 10^{-14}$</span>) - fixed rate constant for the RO2 + RO2 loss pathway. Like <code>k_RO2NO</code>, this doesn&#39;t vary with T and M. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li><li><code>k4</code> (default: <span>$1.1 × 10^{-11}$</span>) - rate constant for NO2 + OH → HNO3 reaction <em>only</em> in the  initial guess for OH. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li><li><code>k2eff</code> (default: <span>$8 × 10^{-12}$</span>) - effective rate constant for the NO + RO2 → NO2 + RO reaction  <em>only</em> in the initial guess for OH. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li><li><code>k5eff</code> (default: <span>$5 × 10^{-12}$</span>) - effective rate constant for the RO2 and HO2 self-reaction  <em>only</em> in the initial guess for OH. Units of molec<span>$^{-1}$</span> cm<span>$^{3}$</span> s<span>$^{-1}$</span>.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.SteadyStateSolvers.SteadyStateResult" href="#HSSModel.SteadyStateSolvers.SteadyStateResult"><code>HSSModel.SteadyStateSolvers.SteadyStateResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Struct to hold the final state of the NOx-HOx steady state model. All concentrations are in molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span>. The following fields have the steady state solution:</p><ul><li><code>oh</code> - OH steady-state concentration</li><li><code>ho2</code> - HO2 steady-state concentration</li><li><code>ro2</code> - RO2 steady-state concentration</li></ul><p>Additional fields store input or internal variables to aid in plotting, calculating derived quantities, or debugging:</p><ul><li><code>no</code> - NO concentration (from input)</li><li><code>no2</code> - NO2 concentration (from input)</li><li><code>vocr</code> - VOC reactivity in s<span>$^{-1}$</span></li><li><code>phox</code> - HOx production rate in molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span></li><li><code>alpha</code> - NO + RO2 branching ratio</li><li><code>rates</code> - a dictionary of all rate constants (both specified and calculated) used in the solution</li><li><code>options</code> - the input <code>SteadyStateOptions</code> structure.</li><li><code>solver_results</code> - the <code>NLSolve.SolverResults</code> structure returned by the solver that found the optimum solution to the NOx-HOx steady state equations.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.SteadyStateSolvers.nonlin_nox_analytic_model" href="#HSSModel.SteadyStateSolvers.nonlin_nox_analytic_model"><code>HSSModel.SteadyStateSolvers.nonlin_nox_analytic_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nonlin_nox_analytic_model(no::Real, no2::Real; kwargs...)::Real</code></pre><p>Compute OH concentrations given NO and NO2 concentrations along with additional kinetics parameters defined by the keyword argument. All concentrations are in molec. cm<span>$^{-3}$</span>.</p><p>This uses the steady state model described in Murphy et al., ACP, 2006:  &quot;The weekend effect within and downwind of Sacramento: Part 2.  Observational evidence for chemical and dynamical contributions&quot; (doi: 10.5194/acpd-6-11971-2006). See Eqs. 3, 4, and 5.</p><p>The keyword arguments, with defaults in  are:</p><ul><li>phox (6.25e6) - HOx production rate in molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span>.</li><li>vocr (5.8) - Total VOC OH reactivity in s<span>$^{-1}$</span></li><li>alpha (0.04) - RO2 + NO branching ratio, unitless.</li><li>k4 (1.1e-11) - Rate constant for OH + NO2 –&gt; HNO3 in cm<span>$^3$</span> molec<span>$^{-1}$</span> s<span>$^{-1}$</span></li><li>k2eff (8e-12) - Effective reaction rate of NO with RO2 in cm<span>$^3$</span> molec<span>$^{-1}$</span> s<span>$^{-1}$</span></li><li>k5eff (5e-12) - Effective reaction rate of RO2 and HO2 self reaction in cm<span>$^3$</span> molec<span>$^{-1}$</span> s<span>$^{-1}$</span></li></ul></div></section><section><div><pre><code class="language-none">nonlin_nox_analytic_model(nox::Real; no2_no::Real=4, kwargs...)::Real</code></pre><p>Compute OH concentration from NOx concentration and an NO2:NO ratio, which defaults to 4:1.</p></div></section></article><h2 id="DerivedQuantities-module"><a class="docs-heading-anchor" href="#DerivedQuantities-module">DerivedQuantities module</a><a id="DerivedQuantities-module-1"></a><a class="docs-heading-anchor-permalink" href="#DerivedQuantities-module" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HSSModel.DerivedQuantities.nox_lifetime" href="#HSSModel.DerivedQuantities.nox_lifetime"><code>HSSModel.DerivedQuantities.nox_lifetime</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nox_lifetime(result::SteadyStateSolvers.SteadyStateResult)::Dict</code></pre><p>Compute NOx lifetimes from a steady state model result. The return value is a dictionary with keys &quot;total&quot;, &quot;hno3&quot;, and &quot;ans&quot; which correspond to the overall lifetime, lifetime w.r.t. loss to HNO3, and lifetime w.r.t. loss to alkyl nitrates, respectively. Lifetimes are in hours.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.DerivedQuantities.ozone_prod_efficiency" href="#HSSModel.DerivedQuantities.ozone_prod_efficiency"><code>HSSModel.DerivedQuantities.ozone_prod_efficiency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ozone_prod_efficiency(result::SteadyStateSolvers.SteadyStateResult)</code></pre><p>Compute the OPE at the final steady state balance returned by a single run of the steady state model. Returns the OPE as a scalar value. OPE is calculated as:</p><p><span>$\mathrm{OPE} = \frac{P(\mathrm{O_3})}{L(\mathrm{NO_x})} = \frac{k_\mathrm{NO+HO2}[\mathrm{NO}][\mathrm{HO_2}] + (1-\alpha)k_\mathrm{NO+RO2}[\mathrm{NO}][\mathrm{RO_2}]}{k_\mathrm{NO2+OH}[\mathrm{NO_2}][\mathrm{OH}] + \alpha k_\mathrm{NO+RO2}[\mathrm{NO}][\mathrm{RO_2}]}$</span></p><p>This follows the basic formulation described in <a href="https://doi.org/10.1029/2002JD002529">Kleinman et al. 2002</a>, but calculates each component more directly (since the precise HO2 and RO2 concentrations from the model are available) and accounts for alkyl nitrate formation.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.DerivedQuantities.ozone_prod" href="#HSSModel.DerivedQuantities.ozone_prod"><code>HSSModel.DerivedQuantities.ozone_prod</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ozone_prod(result::SteadyStateSolvers.SteadyStateResult)</code></pre><p>Calculates the rate of ozone production given a steady state returned  by the model. Returns a scalar value in units of molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span>. This is calculated as:</p><p><span>$P(\mathrm{O_3}) = k_\mathrm{NO+HO2}[\mathrm{NO}][\mathrm{HO_2}] + (1-\alpha)k_\mathrm{NO+RO2}[\mathrm{NO}][\mathrm{RO_2}]$</span></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="HSSModel.DerivedQuantities.nox_loss" href="#HSSModel.DerivedQuantities.nox_loss"><code>HSSModel.DerivedQuantities.nox_loss</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nox_loss(result::SteadyStateSolvers.SteadyStateResult)</code></pre><p>Calculates the rate of NOx loss given a steady state returned  by the model. Returns a scale value in units of molec. cm<span>$^{-3}$</span> s<span>$^{-1}$</span>. This is calculated as:</p><p><span>$L(\mathrm{NO_x}) = k_\mathrm{NO2+OH}[\mathrm{NO_2}][\mathrm{OH}] + \alpha k_\mathrm{NO+RO2}[\mathrm{NO}][\mathrm{RO_2}]$</span></p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« HSSModel.jl Documentation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 16 June 2021 12:30">Wednesday 16 June 2021</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
